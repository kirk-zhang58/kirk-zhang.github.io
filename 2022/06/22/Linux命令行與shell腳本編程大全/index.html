<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Linux命令行與shell腳本編程大全 | Fish Tank</title>
  <meta name="keywords" content="">
  <meta name="description" content="Linux命令行與shell腳本編程大全 | Fish Tank">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="1. 数据库额启动与关闭oracle server分为两部分(database: 这部分是指文件系统上的数据，instance则是指后台运行的线程和部分共享内存)。并且数据启动分为三部分：1. nomount  2. mount  3. open 状态  启动到nomount状态">
<meta property="og:type" content="article">
<meta property="og:title" content="深入浅出_Oracle_DBA_入门_进阶与诊断案例">
<meta property="og:url" content="https://simonteo58.github.io/2022/08/31/oracle/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA_Oracle_DBA_%E5%85%A5%E9%97%A8_%E8%BF%9B%E9%98%B6%E4%B8%8E%E8%AF%8A%E6%96%AD%E6%A1%88%E4%BE%8B/index.html">
<meta property="og:site_name" content="Fish Tank">
<meta property="og:description" content="1. 数据库额启动与关闭oracle server分为两部分(database: 这部分是指文件系统上的数据，instance则是指后台运行的线程和部分共享内存)。并且数据启动分为三部分：1. nomount  2. mount  3. open 状态  启动到nomount状态">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-08-31T09:35:04.687Z">
<meta property="article:modified_time" content="2022-08-31T09:44:50.597Z">
<meta property="article:author" content="kirkzhang">
<meta property="article:tag" content="Oracle">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/sublime.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 6.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>kirkzhang</span>
</div>

<div class="icon">
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(39)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="CPP">
                        
                        CPP
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="非技术类">
                        
                        非技术类
                        <small>(4)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="分布式">
                        <i class="fold iconfont icon-right"></i>
                        
                        分布式
                        <small>(2)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="分布式<--->MIT6.824">
                                        
                                        MIT6.824
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="数据结构">
                        
                        数据结构
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="算法">
                        
                        算法
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="archive">
                        <i class="fold iconfont icon-right"></i>
                        
                        archive
                        <small>(4)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="archive<--->golang">
                                        
                                        golang
                                        
                                            <small>(1
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="CICD">
                        
                        CICD
                        <small>(2)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="code_learning">
                        
                        code_learning
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="golang">
                        
                        golang
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="leetcode">
                        <i class="fold iconfont icon-right"></i>
                        
                        leetcode
                        <small>(17)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="leetcode<--->leetcode题解">
                                        
                                        leetcode题解
                                        
                                            <small>(17
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="linux">
                        
                        linux
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
        
    
        
            
                <li>
                    <div data-rel="Oracle">
                        
                        Oracle
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="TED">
                        
                        TED
                        <small>(2)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="WEB API">
                        
                        WEB API
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  "
               target="_blank"
                    
               href="/about">About</a>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="39">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="/null">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>非技术类</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ansible</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CPP</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>golang</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Oracle</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>raft</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a  class="All Oracle "
           href="/2022/08/31/oracle/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA_Oracle_DBA_%E5%85%A5%E9%97%A8_%E8%BF%9B%E9%98%B6%E4%B8%8E%E8%AF%8A%E6%96%AD%E6%A1%88%E4%BE%8B/"
           data-tag="Oracle"
           data-author="" >
            <span class="post-title" title="深入浅出_Oracle_DBA_入门_进阶与诊断案例">深入浅出_Oracle_DBA_入门_进阶与诊断案例</span>
            <span class="post-date" title="2022-08-31 17:35:04">2022/08/31</span>
        </a>
        
        <a  class="All archive "
           href="/2022/08/27/%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C%E5%BD%92%E6%A1%A3/Api%E6%95%B0%E6%8D%AE%E8%87%AA%E5%8A%A8%E5%85%A5%E5%BA%93/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="API数据自动入库">API数据自动入库</span>
            <span class="post-date" title="2022-08-27 13:35:51">2022/08/27</span>
        </a>
        
        <a  class="All archive golang "
           href="/2022/08/26/%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C%E5%BD%92%E6%A1%A3/%E5%86%85%E5%AD%98%E9%AB%98%E6%95%88golang/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="内存高效golang">内存高效golang</span>
            <span class="post-date" title="2022-08-26 21:18:06">2022/08/26</span>
        </a>
        
        <a  class="All archive "
           href="/2022/08/26/%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C%E5%BD%92%E6%A1%A3/remote_github/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="更新remote位置">更新remote位置</span>
            <span class="post-date" title="2022-08-26 21:14:30">2022/08/26</span>
        </a>
        
        <a  class="All 分布式 MIT6.824 "
           href="/2022/08/12/MIT6.824/lab2_blog/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="MIT6.824之lab2">MIT6.824之lab2</span>
            <span class="post-date" title="2022-08-12 21:57:38">2022/08/12</span>
        </a>
        
        <a  class="All 非技术类 "
           href="/2022/08/04/%E9%9D%9E%E6%8A%80%E6%9C%AF%E7%B1%BB/%E5%A4%9A%E5%B7%B4%E8%83%BA%E6%88%92%E6%96%AD/"
           data-tag="非技术类"
           data-author="" >
            <span class="post-title" title="多巴胺戒断">多巴胺戒断</span>
            <span class="post-date" title="2022-08-04 23:08:38">2022/08/04</span>
        </a>
        
        <a  class="All 分布式 "
           href="/2022/07/26/SAF_mechanism/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SAF mechanism replication">SAF mechanism replication</span>
            <span class="post-date" title="2022-07-26 17:00:17">2022/07/26</span>
        </a>
        
        <a  class="All 非技术类 "
           href="/2022/07/14/%E9%9D%9E%E6%8A%80%E6%9C%AF%E7%B1%BB/%E7%A6%85%E4%B8%8E%E6%91%A9%E6%89%98%E8%BD%A6%E7%BB%B4%E4%BF%AE%E8%89%BA%E6%9C%AF/"
           data-tag="非技术类"
           data-author="" >
            <span class="post-title" title="禅与摩托车维修艺术">禅与摩托车维修艺术</span>
            <span class="post-date" title="2022-07-14 08:37:05">2022/07/14</span>
        </a>
        
        <a  class="All 数据结构 "
           href="/2022/07/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%B2%E4%B9%89/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="数据结构讲义">数据结构讲义</span>
            <span class="post-date" title="2022-07-12 23:27:09">2022/07/12</span>
        </a>
        
        <a  class="All archive "
           href="/2022/06/24/%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C%E5%BD%92%E6%A1%A3/archive/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="手册阅读归档">手册阅读归档</span>
            <span class="post-date" title="2022-06-24 06:54:11">2022/06/24</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/13.%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%E8%BD%AC%E6%95%B4%E6%95%B0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="13.罗马数字转整数">13.罗马数字转整数</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/14.%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%89%8D%E7%BC%80/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="14.最长公共前缀">14.最长公共前缀</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/20.%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="20.有效的括号">20.有效的括号</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/21.%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%9C%89%E5%BA%8F%E9%93%BE%E8%A1%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="21.合并两个有序链表">21.合并两个有序链表</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/27.%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="27.移除元素">27.移除元素</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/28.%E5%AE%9E%E7%8E%B0-str-str/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="28.实现 strStr()">28.实现 strStr()</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/35.%E6%90%9C%E7%B4%A2%E6%8F%92%E5%85%A5%E4%BD%8D%E7%BD%AE/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="35.搜索插入位置">35.搜索插入位置</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/53.%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E5%92%8C/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="53.最大子数组和">53.最大子数组和</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/58.%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%8D%95%E8%AF%8D%E7%9A%84%E9%95%BF%E5%BA%A6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="58.最后一个单词的长度">58.最后一个单词的长度</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/66.%E5%8A%A0%E4%B8%80/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="66.加一">66.加一</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/67.%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%B1%82%E5%92%8C/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="67.二进制的求和">67.二进制的求和</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/69.x-%E7%9A%84%E5%B9%B3%E6%96%B9%E6%A0%B9/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="69.x-的平方根">69.x-的平方根</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/70.%E7%88%AC%E6%A5%BC%E6%A2%AF/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="70.爬楼梯">70.爬楼梯</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/83.%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="83.删除排序链表中的重复元素">83.删除排序链表中的重复元素</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/88.%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="88.合并两个有序数组">88.合并两个有序数组</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/9.%E5%9B%9E%E6%96%87%E6%95%B0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="9.回文数">9.回文数</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All leetcode leetcode题解 "
           href="/2022/06/23/leetcode/94.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="94.二叉树的中序排序">94.二叉树的中序排序</span>
            <span class="post-date" title="2022-06-23 00:10:00">2022/06/23</span>
        </a>
        
        <a  class="All TED "
           href="/2022/06/22/TED/%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98%E4%B8%93%E6%B3%A8%E5%8A%9B/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="如何提高专注力-How to Get Your Brain to Focus-TED">如何提高专注力-How to Get Your Brain to Focus-TED</span>
            <span class="post-date" title="2022-06-22 23:10:43">2022/06/22</span>
        </a>
        
        <a  class="All 算法 "
           href="/2022/06/22/%E7%AE%97%E6%B3%95%E5%AF%BC%E8%AE%BA/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="算法导论">算法导论</span>
            <span class="post-date" title="2022-06-22 22:07:23">2022/06/22</span>
        </a>
        
        <a  class="All TED "
           href="/2022/06/22/TED/%E5%A6%82%E4%BD%95%E9%98%85%E8%AF%BB/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="如何阅读-TED">如何阅读-TED</span>
            <span class="post-date" title="2022-06-22 22:05:35">2022/06/22</span>
        </a>
        
        <a  class="All WEB API "
           href="/2022/06/22/API_design%E5%8E%9F%E5%88%99/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="API Design Patterns">API Design Patterns</span>
            <span class="post-date" title="2022-06-22 21:55:02">2022/06/22</span>
        </a>
        
        <a  class="All linux "
           href="/2022/06/22/Linux%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%88%87shell%E8%85%B3%E6%9C%AC%E7%B7%A8%E7%A8%8B%E5%A4%A7%E5%85%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Linux命令行與shell腳本編程大全">Linux命令行與shell腳本編程大全</span>
            <span class="post-date" title="2022-06-22 21:53:01">2022/06/22</span>
        </a>
        
        <a  class="All golang "
           href="/2022/06/22/go%E5%9C%A3%E7%BB%8F/"
           data-tag="golang"
           data-author="" >
            <span class="post-title" title="go语言圣经">go语言圣经</span>
            <span class="post-date" title="2022-06-22 21:16:20">2022/06/22</span>
        </a>
        
        <a  class="All 非技术类 "
           href="/2022/06/22/%E9%9D%9E%E6%8A%80%E6%9C%AF%E7%B1%BB/%E5%A6%82%E4%BD%95%E5%9C%A8%E8%AF%BB%E7%A0%94%E7%9A%84%E9%81%93%E8%B7%AF%E4%B8%8A%E5%BF%AB%E9%80%9F%E5%A4%B1%E8%B4%A5/"
           data-tag="非技术类"
           data-author="" >
            <span class="post-title" title="如何在读研的道路上快速失败">如何在读研的道路上快速失败</span>
            <span class="post-date" title="2022-06-22 21:14:38">2022/06/22</span>
        </a>
        
        <a  class="All code_learning "
           href="/2022/06/22/golang_standard_library/"
           data-tag="raft"
           data-author="" >
            <span class="post-title" title="golang standard library">golang standard library</span>
            <span class="post-date" title="2022-06-22 21:04:15">2022/06/22</span>
        </a>
        
        <a  class="All 非技术类 "
           href="/2022/06/22/%E9%9D%9E%E6%8A%80%E6%9C%AF%E7%B1%BB/%E4%BB%8E0%E5%88%B01_%E5%BC%80%E5%90%AF%E5%95%86%E4%B8%9A%E4%B8%8E%E6%9C%AA%E6%9D%A5%E7%9A%84%E7%A7%98%E5%AF%86/"
           data-tag="非技术类"
           data-author="" >
            <span class="post-title" title="从0到1:开启商业与未来的秘密">从0到1:开启商业与未来的秘密</span>
            <span class="post-date" title="2022-06-22 20:51:26">2022/06/22</span>
        </a>
        
        <a  class="All CICD "
           href="/2022/06/22/docker%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E8%B7%B5/"
           data-tag="Docker"
           data-author="" >
            <span class="post-title" title="docker从入门到实践">docker从入门到实践</span>
            <span class="post-date" title="2022-06-22 20:47:28">2022/06/22</span>
        </a>
        
        <a  class="All CICD "
           href="/2022/06/22/%E5%A5%94%E8%B7%91%E5%90%A7ansible/"
           data-tag="ansible"
           data-author="" >
            <span class="post-title" title="奔跑吧ansible">奔跑吧ansible</span>
            <span class="post-date" title="2022-06-22 20:45:28">2022/06/22</span>
        </a>
        
        <a  class="All CPP "
           href="/2022/06/22/C++_Primer/"
           data-tag="CPP"
           data-author="" >
            <span class="post-title" title="C++ Primer Plus">C++ Primer Plus</span>
            <span class="post-date" title="2022-06-22 01:01:03">2022/06/22</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-Linux命令行與shell腳本編程大全" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Linux命令行與shell腳本編程大全</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="linux">linux</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2022-09-04 15:32:37'>2022-06-22 21:53</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            Views 👀 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                Comment:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-linux%E5%85%A5%E9%97%A8"><span class="toc-text">1. linux入门</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E8%B5%B0%E8%BF%9Bshell"><span class="toc-text">2. 走进shell</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E5%9F%BA%E6%9C%ACshell%E5%91%BD%E4%BB%A4"><span class="toc-text">3. 基本shell命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E5%90%AF%E5%8A%A8shell"><span class="toc-text">3.1 启动shell</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-bash-%E6%89%8B%E5%86%8C"><span class="toc-text">3.2 bash 手册</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-text">3.4 文件系统</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E5%85%B6%E4%BB%96shell%E5%91%BD%E4%BB%A4"><span class="toc-text">4. 其他shell命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E7%9B%91%E6%8E%A7%E7%A8%8B%E5%BA%8F"><span class="toc-text">4.1 监控程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E7%9B%91%E6%8E%A7"><span class="toc-text">4.2 磁盘空间监控</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-%E5%A4%84%E7%90%86%E6%96%87%E4%BB%B6"><span class="toc-text">4.3 处理文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E7%90%86%E8%A7%A3shell"><span class="toc-text">5. 理解shell</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-shell%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">5.1 shell的类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-shell%E7%9A%84%E7%88%B6%E5%AD%90%E5%85%B3%E7%B3%BB"><span class="toc-text">5.2 shell的父子关系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-1-%E8%BF%9B%E7%A8%8B%E5%88%97%E8%A1%A8"><span class="toc-text">5.2.1 进程列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-2-%E5%AD%90shell%E7%9A%84%E5%85%B6%E4%BB%96%E7%94%A8%E6%B3%95"><span class="toc-text">5.2.2 子shell的其他用法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E7%90%86%E8%A7%A3shell%E7%9A%84%E5%86%85%E5%BB%BA%E5%91%BD%E4%BB%A4"><span class="toc-text">5.3 理解shell的内建命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-1-%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">5.3.1 外部命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-2-%E5%86%85%E9%83%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">5.3.2 内部命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">6. 环境变量</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-linux%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="toc-text">7. linux文件权限</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-linux%E7%9A%84%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-text">7.1 linux的安全性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-1-%E6%B7%BB%E5%8A%A0linux%E7%94%A8%E6%88%B7"><span class="toc-text">7.1.1 添加linux用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-2-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-text">7.1.2 删除用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-2-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7"><span class="toc-text">7.1.2 修改用户</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-%E4%BD%BF%E7%94%A8linux%E7%BB%84"><span class="toc-text">7.2 使用linux组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-%E7%90%86%E8%A7%A3%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="toc-text">7.3 理解文件权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4-%E6%94%B9%E5%8F%98%E5%AE%89%E5%85%A8%E6%80%A7%E8%AE%BE%E7%BD%AE"><span class="toc-text">7.4 改变安全性设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-5-%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6"><span class="toc-text">7.5 共享文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E7%A8%8B%E5%BA%8F"><span class="toc-text">9. 安装软件程序</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1-%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-text">9.1 包管理工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2-%E5%9F%BA%E4%BA%8EDebian%E7%9A%84%E7%B3%BB%E7%BB%9F"><span class="toc-text">9.2 基于Debian的系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-1-%E7%94%A8aptitude-%E7%AE%A1%E7%90%86%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-text">9.2.1 用aptitude 管理软件包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-3-%E5%9F%BA%E4%BA%8E%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85"><span class="toc-text">9.3 基于源码安装</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-%E4%BD%BF%E7%94%A8%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">10. 使用编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#10-1-vim-%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">10.1 vim 编辑器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11-%E5%9F%BA%E6%9C%AC%E8%84%9A%E6%9C%AC"><span class="toc-text">11.基本脚本</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12-%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4"><span class="toc-text">12. 使用结构化命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13-for-%E5%BE%AA%E7%8E%AF"><span class="toc-text">13. for 循环</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#13-1-for%E5%91%BD%E4%BB%A4"><span class="toc-text">13.1 for命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-2-C%E8%AF%AD%E8%A8%80%E9%A3%8E%E6%A0%BC"><span class="toc-text">13.2 C语言风格</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-3-while%E8%AF%AD%E5%8F%A5"><span class="toc-text">13.3 while语句</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#14-%E5%A4%84%E7%90%86%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5"><span class="toc-text">14. 处理用户输入</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#19-%E5%88%9D%E8%AF%86sed%E5%92%8Cgawk"><span class="toc-text">19.初识sed和gawk</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#19-1-sed-and-gawk%E5%9F%BA%E7%A1%80"><span class="toc-text">19.1 sed and gawk基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19-2-sed-and-gawk%E8%BF%9B%E9%98%B6"><span class="toc-text">19.2 sed and gawk进阶</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-linux入门"><a href="#1-linux入门" class="headerlink" title="1. linux入门"></a>1. linux入门</h1><p>linux是一款开源操作系统统称，其有很多发行版本，像ubuntu..，它的核心是其<code>内核</code>，早期由linus torvalds开发</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1da5122af2d44d499197cd6eafe8fc02~tplv-k3u1fbpfcp-watermark.image" alt="linux本人"></p>
<p>内核主要负责以下四种功能:</p>
<ul>
<li><p>系统内存管理</p>
</li>
<li><p>软件程序管理</p>
<p>  linux管理所有运行程序的进程.内核启动时会将<code>init</code>进程加载到<code>虚拟内存</code>，一些发行版本在<code>/etc/inittab</code>位置进行管理自启动进程,ubuntu则是在<code>/etc/init.d</code>或者<code>/etc/rcX.d</code>,<code>/etc/rcX.d</code>，<code>X</code>是某一特定是某一特定类型的进程，如下<code>rc0.d/</code>,<code>rc1.d/</code>,<code>rc2.d/</code>,<code>rc3.d/</code>,<code>rc4.d/</code>,<code>rc5.d/</code>,<code>rc6.d/</code>,<code>rcS.d/</code>运行级为<strong>1</strong>时，只启动基本的系统进程以及一个控制台终端进程。称之为<strong>单用户模式</strong>。单用户模式通常用来在系统有问题时进行紧急的文件系统维护。在这种模式下，仅有一个人（通常是系统管理员）能登录到系统上操作数据（这块部分以后涉及再补充也来的急，别深究）</p>
</li>
<li><p>硬件设备管理</p>
<p>两种方式将驱动程序插入到系统内核</p>
<ol>
<li><p>编译进内核的设备驱动代码</p>
<ul>
<li>以前加入新的驱动要重新编译内核，效率低下</li>
</ul>
</li>
<li><p>可插入内核的设备驱动模块</p>
<p> 可插拔式内核驱动，Linux系统将硬件设备当成特殊的文件，称为<code>设备文件</code>。设备文件有3种分类：</p>
<ul>
<li>字符型设备文件</li>
<li>块设备文件</li>
<li>网络设备文件</li>
</ul>
</li>
</ol>
</li>
<li><p>文件系统管理</p>
<p>  linux自有的诸多文件系统外，Linux还支持从其他操作系统（比如Microsoft Windows）采用的文件系统中读写数据。内核必须在编译时就加入对所有可能用到的文件系统的支持</p>
</li>
</ul>
<h1 id="2-走进shell"><a href="#2-走进shell" class="headerlink" title="2. 走进shell"></a>2. 走进shell</h1><p>在图形化桌面出现之前，与Unix系统进行交互的唯一方式就是借助由shell所提供的<code>文本命令</code>行界面(command line interface，CLI),是一种同Linux系统交互的直接接口</p>
<h1 id="3-基本shell命令"><a href="#3-基本shell命令" class="headerlink" title="3. 基本shell命令"></a>3. 基本shell命令</h1><h2 id="3-1-启动shell"><a href="#3-1-启动shell" class="headerlink" title="3.1 启动shell"></a>3.1 启动shell</h2><p><code>/etc/passwd</code>包含用户的基本信息,如下输出</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">christine: x :501:501:Christine Bresnahan:/home/christine:/bin/bash</code></pre>
<p>位置以此类推是用户名,密码,UID,GID,用户文本描述,家目录,默认启动启动bash作为自己的shell命令(第七章将有详细描述),目前绝大多数linux发行版将密码放在<code>/etc/shadow</code>目录下</p>
<h2 id="3-2-bash-手册"><a href="#3-2-bash-手册" class="headerlink" title="3.2 bash 手册"></a>3.2 bash 手册</h2><p>对应的内容区域。每个内容区域都分配了一个数字</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>可执行程序或shell命令</td>
</tr>
<tr>
<td>2</td>
<td>系统调用</td>
</tr>
<tr>
<td>3</td>
<td>库调用</td>
</tr>
<tr>
<td>4</td>
<td>特殊文件</td>
</tr>
<tr>
<td>5</td>
<td>文件格式与约定</td>
</tr>
<tr>
<td>6</td>
<td>游戏</td>
</tr>
<tr>
<td>7</td>
<td>概览,约定及杂项</td>
</tr>
<tr>
<td>8</td>
<td>超级用户和系统管理员命令</td>
</tr>
<tr>
<td>9</td>
<td>内核例程</td>
</tr>
</tbody></table>
<p>hostname的命令。 手册页中既包括该命令的相关信息，也包括对系统主机名的概述。要想查看所需要的页面，可以 ，输入man  section topic*。对手册页中的第1部分而言，就是输入man 1 hostname。对于手册页中的第7部分，就是输入man 7 hostname</p>
<p>info info</p>
<h2 id="3-4-文件系统"><a href="#3-4-文件系统" class="headerlink" title="3.4 文件系统"></a>3.4 文件系统</h2><ul>
<li><p>linux 文件系统</p>
<table>
<thead>
<tr>
<th>目录</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;bin</td>
<td>二进制目录，存放许多用户级的GNU工具</td>
</tr>
<tr>
<td>&#x2F;boot</td>
<td>启动目录，存放启动文件</td>
</tr>
<tr>
<td>&#x2F;dev</td>
<td>设备目录，Linux在这里创建设备节点</td>
</tr>
<tr>
<td>&#x2F;etc</td>
<td>系统配置文件目录</td>
</tr>
<tr>
<td>&#x2F;home</td>
<td>主目录，Linux在这里创建用户目录</td>
</tr>
<tr>
<td>&#x2F;lib</td>
<td>库目录，存放系统和应用程序的库文件</td>
</tr>
<tr>
<td>&#x2F;media</td>
<td>媒体目录，可移动媒体设备的常用挂载点</td>
</tr>
<tr>
<td>&#x2F;mnt</td>
<td>挂载目录，另一个可移动媒体设备的常用挂载点</td>
</tr>
<tr>
<td>&#x2F;opt</td>
<td>可选目录，常用于存放第三方软件包和数据文件</td>
</tr>
<tr>
<td>&#x2F;proc</td>
<td>进程目录，存放现有硬件及当前进程的相关信息</td>
</tr>
<tr>
<td>&#x2F;root</td>
<td>root用户的主目录</td>
</tr>
<tr>
<td>&#x2F;sbin</td>
<td>系统二进制目录，存放许多GNU管理员级工具</td>
</tr>
<tr>
<td>&#x2F;run</td>
<td>运行目录，存放系统运作时的运行时数据</td>
</tr>
<tr>
<td>&#x2F;srv</td>
<td>服务目录，存放本地服务的相关文件</td>
</tr>
<tr>
<td>&#x2F;sys</td>
<td>系统目录，存放系统硬件信息的相关文件</td>
</tr>
<tr>
<td>&#x2F;tmp</td>
<td>临时目录，可以在该目录中创建和删除临时工作文件</td>
</tr>
<tr>
<td>&#x2F;usr</td>
<td>用户二进制目录，大量用户级的GNU工具和数据文件都存储在这里</td>
</tr>
<tr>
<td>&#x2F;var</td>
<td>可变目录，用以存放经常变化的文件，比如日志文件</td>
</tr>
</tbody></table>
</li>
<li><p>遍历目录(cd命令)</p>
<p><code>cd</code>命令，这时要注意文件系统的相对路径和绝对路径问题，linux通过这两种方式确定目录位置，符号<code>/</code>是表示根目录</p>
<ul>
<li>绝对路径</li>
<li>相对路径<ul>
<li>.&#x2F;当前目录</li>
<li>..&#x2F;上层目录<br>例子如下<pre class="language-none"><code class="language-none">&#x2F;&#x2F;进到对应账号的home目录下
cd ~&#x2F;   &#x2F;&#x2F;这个符号表示家目录符号
cd &#x2F;home&#x2F;kirkzhang  &#x2F;&#x2F;使用绝对路径进入家目录
&#x2F;&#x2F;这时候我们从home目录进入到</code></pre></li>
</ul>
</li>
</ul>
</li>
<li><p>目录列表(ls命令)</p>
<p><code>ls</code>按照字母序列,参数<code>-l</code> 显示长列表,更多参数查看ls手册</p>
<ul>
<li>问号（?）代表一个字符</li>
<li>星号（*）代表零个或多个字符</li>
</ul>
</li>
<li><p>文件链接</p>
<ul>
<li><p>软连接</p>
<p>当我们需要相同文件时,不必要在每个文件夹下都放一份文件夹，只需要使用软链接<br>ls -s &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;mysql &#x2F;usr&#x2F;bin</p>
</li>
<li><p>硬链接</p>
</li>
</ul>
</li>
</ul>
<h1 id="4-其他shell命令"><a href="#4-其他shell命令" class="headerlink" title="4. 其他shell命令"></a>4. 其他shell命令</h1><h2 id="4-1-监控程序"><a href="#4-1-监控程序" class="headerlink" title="4.1 监控程序"></a>4.1 监控程序</h2><ul>
<li><p>查看进程 - ps</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">-A 显示所有进程 
-N 显示与指定参数不符的所有进程 
-a 显示除控制进程（session leader①）和无终端进程外的所有进程 
-d 显示除控制进程外的所有进程 
-e 显示所有进程 
-C cmdlist 显示包含在cmdlist列表中的进程 
-G grplist 显示组ID在grplist列表中的进程 
-U userlist 显示属主的用户ID在userlist列表中的进程 
-g grplist 显示会话或组ID在grplist列表中的进程② 
-p pidlist 显示PID在pidlist列表中的进程
-f 完整格式输出</code></pre>
<table>
<thead>
<tr>
<th>名词</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>UID</td>
<td>启动这些进程的用户</td>
</tr>
<tr>
<td>PID</td>
<td>进程的ID</td>
</tr>
<tr>
<td>PPID</td>
<td>父进程的进程号（如果该进程是由另一个进程启动的）</td>
</tr>
<tr>
<td>C</td>
<td>进程生命周期中的CPU利用率</td>
</tr>
<tr>
<td>STIME</td>
<td>进程启动时的系统时间</td>
</tr>
<tr>
<td>TTY</td>
<td>进程启动时的终端设</td>
</tr>
<tr>
<td>TIME</td>
<td>运行进程需要的累计CPU时间</td>
</tr>
<tr>
<td>CMD</td>
<td>启动的程序名称</td>
</tr>
</tbody></table>
</li>
<li><p>实时监控 - top</p>
<ul>
<li>第一行：当前时间，系统运行时间，登录用户数，系统的平均负载(15分钟的参数越大且超过，说明有问题)  </li>
<li>第二行：进程状态  </li>
<li>第三行：CPU相关数值，使用率</li>
</ul>
<table>
<thead>
<tr>
<th>名词</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>PID：</td>
<td>进程的ID</td>
</tr>
<tr>
<td>USER：</td>
<td>进程属主的名字</td>
</tr>
<tr>
<td>PR：</td>
<td>进程的优先级</td>
</tr>
<tr>
<td>NI：</td>
<td>进程的谦让度度</td>
</tr>
<tr>
<td>VIRT：</td>
<td>进程占用的虚拟内存总量</td>
</tr>
<tr>
<td>RES：</td>
<td>进程占用的物理内存总量</td>
</tr>
<tr>
<td>SHR：</td>
<td>进程和其他进程共享的内存总量</td>
</tr>
<tr>
<td>S：</td>
<td>进程的状态（D代表可中断的休眠状态，R代表在运行状态，S代表休眠状态，T代表 跟踪状态或停止状态，Z代表僵化状态)</td>
</tr>
<tr>
<td>%CPU：</td>
<td>进程使用的CPU时间比例</td>
</tr>
<tr>
<td>%MEM：</td>
<td></td>
</tr>
<tr>
<td>TIME+：</td>
<td>自进程启动到目前为止的CPU时间总量</td>
</tr>
<tr>
<td>COMMAND</td>
<td>：进程所对应的命令行名称，也就是启动的程序名</td>
</tr>
</tbody></table>
</li>
<li><p>结束进程 - kill<br>linux进程间用信号通信，通信表如下</p>
<table>
<thead>
<tr>
<th>信号</th>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>HUP</td>
<td>挂起</td>
</tr>
<tr>
<td>2</td>
<td>INT</td>
<td>中断</td>
</tr>
<tr>
<td>3</td>
<td>QUIT</td>
<td>退出</td>
</tr>
<tr>
<td>9</td>
<td>KILL</td>
<td>无条件终止</td>
</tr>
<tr>
<td>11</td>
<td>SEGV</td>
<td>段错误</td>
</tr>
<tr>
<td>15</td>
<td>TERM</td>
<td>尽可能终止</td>
</tr>
<tr>
<td>17</td>
<td>STOP</td>
<td>无条件终止</td>
</tr>
<tr>
<td>18</td>
<td>TSTP</td>
<td>停止或暂停，但在后台运行</td>
</tr>
<tr>
<td>19</td>
<td>CONT</td>
<td>在STOP或TSTP之后恢复执行</td>
</tr>
</tbody></table>
</li>
<li><p>系统performance监控<br>这个要下载<code>sysstat</code>程序。</p>
<ul>
<li>iostat - reports CPU statistics and input&#x2F;output statistics for block devices and partitions.</li>
<li>mpstat - Processors Statistics<ul>
<li><code>mpstat -P ALl</code> 所有processor</li>
<li><code>mpstat -P ALL 2 5</code> 迭代五次间隔两秒</li>
</ul>
</li>
<li>pidstat - Process and Kernel Threads Statistics</li>
<li>tapestat - reports statistics for tape drives connected to the system</li>
<li>cifsiostat - reports CIFS statistics.</li>
</ul>
</li>
</ul>
<h2 id="4-2-磁盘空间监控"><a href="#4-2-磁盘空间监控" class="headerlink" title="4.2 磁盘空间监控"></a>4.2 磁盘空间监控</h2><ul>
<li><p>mount - 挂在存储媒体<br><code>mount</code>提供如下信息<code>媒体设备名</code>,<code>挂载点</code>,<code>文件类型</code>,<code>访问方式</code><br><code>mount -t type  A  B</code>  &#x2F;&#x2F;将A设备挂在到B目录上,type 参数指定了磁盘被格式化的文件系统类型,如<code>vfat</code>,<code>iso9660</code>,<code>ntfs</code>,例如<code>mount -t vfat /dev/sdb1 /media/disk</code></p>
</li>
<li><p>mount参数列表，详情见man手册，或者如下</p>
<table>
<thead>
<tr>
<th>参 数</th>
<th>描 述</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>挂载&#x2F;etc&#x2F;fstab文件中指定的所有文件系统</td>
</tr>
<tr>
<td>-f</td>
<td>使 mount 命令模拟挂载设备，但并不真的挂载</td>
</tr>
<tr>
<td>-F</td>
<td>和 -a 参数一起使用时，会同时挂载所有文件系统</td>
</tr>
<tr>
<td>-v</td>
<td>详细模式，将会说明挂载设备的每一步</td>
</tr>
<tr>
<td>-I</td>
<td>不启用任何&#x2F;sbin&#x2F;mount.filesystem下的文件系统帮助文件</td>
</tr>
<tr>
<td>-l</td>
<td>给ext2、ext3或XFS文件系统自动添加文件系统标签</td>
</tr>
<tr>
<td>-n</td>
<td>挂载设备，但不注册到&#x2F;etc&#x2F;mtab已挂载设备文件中</td>
</tr>
<tr>
<td>-p</td>
<td>num进行加密挂载时，从文件描述符 num 中获得密码短语</td>
</tr>
<tr>
<td>-s</td>
<td>忽略该文件系统不支持的挂载选项</td>
</tr>
<tr>
<td>-r</td>
<td>将设备挂载为只读的</td>
</tr>
<tr>
<td>-w</td>
<td>将设备挂载为可读写的（默认参数）</td>
</tr>
<tr>
<td>-L label</td>
<td>将设备按指定的 label 挂载</td>
</tr>
<tr>
<td>-U uuid</td>
<td>将设备按指定的 uuid 挂载</td>
</tr>
<tr>
<td>-O</td>
<td>和 -a 参数一起使用，限制命令只作用到特定的一组文件系统上</td>
</tr>
<tr>
<td>-o</td>
<td>给文件系统添加特定的选项</td>
</tr>
</tbody></table>
</li>
<li><p><code>-o</code>参数允许在挂载文件系统时添加一些以逗号分隔的额外选项。以下为常用的选项</p>
<ul>
<li>ro 只读挂载  </li>
<li>rw 读写挂载</li>
<li>user 允许普通用户挂在</li>
<li>loop 挂载一个文件</li>
<li>check&#x3D;none 挂载时进行完整性校验</li>
</ul>
</li>
<li><p>unmount - 卸载设备<br><code>unmount [directory | device]</code> &#x2F;&#x2F;卸载文件应在外侧目录完成,命令行提示符仍然在挂载设备的文件系统目录中，<code>umount</code> 命令无法卸载该镜像</p>
</li>
<li><p>df - 查看文件大小  </p>
<ol>
<li>df -h 以M,G描述问价大小</li>
</ol>
</li>
<li><p>du - 查看文件大小</p>
<ol>
<li>-c：显示所有已列出文件总的大小(还是不宜读)</li>
<li>-h：按用户易读的格式输出大小，即用K替代千字节</li>
<li>-s：显示每个输出参数的总计</li>
</ol>
</li>
</ul>
<h2 id="4-3-处理文件"><a href="#4-3-处理文件" class="headerlink" title="4.3 处理文件"></a>4.3 处理文件</h2><ul>
<li><p>sort - 文件排序  </p>
<ol>
<li>sort命令会把数字当做字符来执行标准的字符排序,<code>-n</code>解决</li>
<li><code>-M</code> 按照月份排序</li>
<li>-k和-t参数在对按字段分隔的数据进行排序时非常有用<code>sort -t &#39;:&#39; -k 3 -n /etc/passwd</code></li>
<li>具体命令参数，现学现用</li>
<li>-n 按照数值排序<code>du -hs * | sort -nr</code></li>
<li>-r 反向排序</li>
</ol>
</li>
<li><p>grep - 搜索文件  </p>
<ol>
<li><code>-v</code>输出不匹配的行</li>
<li><code>-n</code>输出行号</li>
<li><code>-c</code>计算匹配到的行数</li>
<li><code>-e</code>指定多个匹配模式</li>
<li><code>grep [tf] file1</code>支持正则匹配</li>
</ol>
</li>
</ul>
<p>egrep, fgrep 功能更强大  </p>
<ul>
<li><p>压缩数据 - zip , gzip:gz, compress:Z, bzip2:bz2</p>
<ol>
<li><code>gzip</code>压缩文件</li>
<li><code>gzcat</code>查看文件内容</li>
<li><code>gunzip</code>用来解压文件</li>
</ol>
</li>
<li><p>归档数据 - tar</p>
<ol>
<li><code>-c ~ create</code>创建一个新的tar文件</li>
<li><code>-r</code>追加文件到tar文件末尾</li>
<li><code>-x ~ extract</code>抽取tar文件</li>
<li><code>-v</code>显示文件列表</li>
<li><code>-z</code>将输出重定向给gzip命令</li>
<li><code>-f ~ file</code>输出文件结果到文化，<code>tar -cvf test.tar test/ test2/</code> 创建一个新文件</li>
<li><code>-t~ list</code>列举tar内容</li>
<li><code>tar -xvf test.tar</code>令从tar文件test.tar中提取内容。如果tar文件是从一个目录结构创建的，那整个目录结构都会在当前目录下重新创建</li>
<li><code>-C</code>指定具体目录</li>
</ol>
</li>
</ul>
<h1 id="5-理解shell"><a href="#5-理解shell" class="headerlink" title="5. 理解shell"></a>5. 理解shell</h1><h2 id="5-1-shell的类型"><a href="#5-1-shell的类型" class="headerlink" title="5.1 shell的类型"></a>5.1 shell的类型</h2><p>不同Linux系统有很多种shell,<code>cat /etc/passwd</code>可以看到用户默认登录默认的shell</p>
<ul>
<li>Debian的是dash</li>
<li>csh</li>
<li>sh(你经常会看到某些发行版使用软链接将默认的系统shell设置成bash shell，如本书所使用的<br>CentOS发行版)</li>
</ul>
<h2 id="5-2-shell的父子关系"><a href="#5-2-shell的父子关系" class="headerlink" title="5.2 shell的父子关系"></a>5.2 shell的父子关系</h2><p>在生成子shell进程时，只有部分父进程的环境被复制到子shell环境中的一些东西造成影响</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>-c string</td>
<td>从 string 中读取命令并进行处理</td>
</tr>
<tr>
<td>-i</td>
<td>启动一个能够接收用户输入的交互shell</td>
</tr>
<tr>
<td>-l</td>
<td>以登录shell的形式启动</td>
</tr>
<tr>
<td>-r</td>
<td>启动一个受限shell，用户会被限制在默认目录中</td>
</tr>
<tr>
<td>-s</td>
<td>从标准输入中读取命令</td>
</tr>
</tbody></table>
<h3 id="5-2-1-进程列表"><a href="#5-2-1-进程列表" class="headerlink" title="5.2.1 进程列表"></a>5.2.1 进程列表</h3><ol>
<li><code>(pwd ; ls ; cd /etc ; pwd ; cd ; pwd ; ls)</code>,括号的加入使命令列表变成了进程列表，生成了一个子shell来执行对应的命令</li>
<li>语法为 <code>&#123; command; &#125;</code> 。使用花括号进行命令分组,并不会像进程列表那样创建出子shell</li>
<li>( pwd ; (echo $BASH_SUBSHELL)) 创建子shell的子shell</li>
<li>在shell脚本中，经常使用子shell进行多进程处理。但是采用子shell的成本不菲，会明显拖慢<br>处理速度。在交互式的CLI shell会话中，子shell同样存在问题。它并非真正的多进程处理，因为<br>终端控制着子shell的I&#x2F;O</li>
</ol>
<h3 id="5-2-2-子shell的其他用法"><a href="#5-2-2-子shell的其他用法" class="headerlink" title="5.2.2 子shell的其他用法"></a>5.2.2 子shell的其他用法</h3><ol>
<li>后台运行模式( &amp; )</li>
<li>进程列表置于后台 (sleep 2 ; echo $BASH_SUBSHELL ; sleep 2) &amp;</li>
<li>携程<ul>
<li>coproc My_Job { sleep 10; }, My_Job 是自定义名字，必须确保在第一个花括号（ { ）和命令名之间有一个空格</li>
<li>将<code>协程</code>与进程列表结合起来产生嵌套的子shell。只需要输入进程列表,<br>然后把命令 <code>coproc</code> 放在前面就行了<code>coproc ( sleep 10; sleep 2 )</code></li>
</ul>
</li>
</ol>
<h2 id="5-3-理解shell的内建命令"><a href="#5-3-理解shell的内建命令" class="headerlink" title="5.3 理解shell的内建命令"></a>5.3 理解shell的内建命令</h2><h3 id="5-3-1-外部命令"><a href="#5-3-1-外部命令" class="headerlink" title="5.3.1 外部命令"></a>5.3.1 外部命令</h3><p>当外部命令执行时，会创建出一个子进程。这种操作被称为<code>衍生</code>(forking),有时候也被称为文件系统命令，是存在于bash shell之外的程序。它们并不是shell程序的一部分。外部命令程序通常位于&#x2F;bin、&#x2F;usr&#x2F;bin、&#x2F;sbin或&#x2F;usr&#x2F;sbin中</p>
<ul>
<li><code>which ps</code></li>
<li><code>type -a ps</code></li>
<li>当进程必须执行衍生操作时，它需要花费时间和精力来设置新子进程的环境。所以说，外部命令多少还是有代价的,就算衍生出子进程或是创建了子shell，你仍然可以通过发送信号与其沟通，这一点无论是<br>在命令行还是在脚本编写中都是极其有用的</li>
</ul>
<h3 id="5-3-2-内部命令"><a href="#5-3-2-内部命令" class="headerlink" title="5.3.2 内部命令"></a>5.3.2 内部命令</h3><ol>
<li>命令<code>type -a</code>显示出了每个命令的两种实现。注意， which 命令只显示出了外部命令文件</li>
<li><code>!数字</code>可以使用.bash_history文件的命令</li>
<li><code>alias -p</code>,有一个别名取代了标准命令 <code>ls</code>.它自动加入了<code> --color</code>选项，表明终端支持彩色模式的列表</li>
<li><code>alias li=&#39;ls -li&#39;</code>,一个别名仅在它所被定义的shell进程中才有效</li>
</ol>
<h1 id="6-环境变量"><a href="#6-环境变量" class="headerlink" title="6. 环境变量"></a>6. 环境变量</h1><ul>
<li>login shell : 用户成功登陆后使用的是 Login shell。例如，当你通过终端、SSH 或使用 “su -“ 命令来切换账号时都会使用的Login Shell</li>
<li>non-login shell : Non Login Shell 是指通过 login shell 开启的shell,Non-login shell执行<code>~/.bashrc</code>脚本来初始shell环境</li>
</ul>
<p>如何快速辨别是login shell 还是non-login shell ,可通过<code>echo $0</code>如果是输出<code>-bash</code>说明是login shell,<code>bash</code>说明是non-login shell  </p>
<ul>
<li><p>全局环境变量对于所有shell都是可见的,对于子shell来说这是非常重要的,<code>printenv</code>or<code>env</code>命令查看全局命令</p>
</li>
<li><p>局部变量，<code>set</code>返回全局变量，用户自定义变量,所以返回局部变量有点复杂，以字母序进行排序</p>
</li>
<li><p>用户自定义变量</p>
<p><code>echo $my_variable -&gt; my_variable=Hello </code>可赋值,并且当你想要使用自定义变量时候要使用<code>$&#123;my_variable&#125;</code>语法，大小写敏感</p>
</li>
<li><p>设置全局环境变量</p>
<ul>
<li><code>export my_variable</code>导出为全局变量，在子shell中修改该值，只会在子shell中生效</li>
<li><code>unset my_variable</code>删除环境变量,这条规则的一个例外就是使用 printenv 显示某个变量的值)</li>
<li>默认的环境变量，直接使用就好了<br><img src="/./../picture/linux_%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC/linux_default_variables.png" alt="linux_default_variables"><br><img src="/./../picture/linux_%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8Eshell%E8%84%9A%E6%9C%AC/linux_default_variables_1.png" alt="linux_default_variables_1"></li>
<li>设置<code>path</code>环境变量,当你在shell命令行界面中输入一个外部命令时，shell必须搜索系统来找到对应的程序.<code>PATH</code>环境变量定义了用于进行命令和程序查找的目录</li>
<li>定位环境变量<ul>
<li>在你登入Linux系统启动一个bash shell时，默认情况下bash会在几个文件中查找命令。这些文件叫作<code>启动文件</code>或<code>环境文件</code>。bash检查启动文件的方式取决于你启动bash的<br>方式，启动bash shell有3种方式<ul>
<li>登录时作为默认登录shell(login shell)<br>当你登录系统的时候，bash shell会作为登陆式shell进行启动，会在如下文件五个不同启动文件读取命令<ul>
<li>&#x2F;etc&#x2F;profile  是系统默认的bash shell主启动文件，系统上每个用户登陆时候都会读取这个主启动文件，<br>两个发行版的&#x2F;etc&#x2F;profile文件都用到了同一个特性：for语句。它用来迭代&#x2F;etc&#x2F;profile.d目录，这为Linux系统提供了一个放置特定应用程序启动文件的地方，<br>当用户登录时，shell会执行这些文件。在本书所用的Ubuntu Linux系统中，<br>&#x2F;etc&#x2F;profile.d目录下包含以下文件</li>
<li>$HOME&#x2F;.bash_profile</li>
<li>$HOME&#x2F;.bashrc</li>
<li>$HOME&#x2F;.bash_login</li>
<li>$HOME&#x2F;.profile<br>NOTE : 要留意的是有些Linux发行版使用了可拆卸式认证模块（Pluggable AuthenticationModules ，PAM）。在这种情况下，PAM文件会在bash shell启动之前处理，这些文件中可能会包含环境变量。PAM文件包括&#x2F;etc&#x2F;environment文 件 和$HOME&#x2F;.pam_environment文件</li>
</ul>
</li>
<li>作为非登录shell的交互式shell(non-login shell)</li>
<li>作为运行脚本的非交互shell</li>
</ul>
</li>
<li><code>/etc/profile</code>文件是系统上默认的bash shell的主启动文件。只要你登录了Linux系统,系统上的每个用户登录时都会执行这个启动文件,ubuntu涉及<code>/etc/bash.bashrc</code>的文件,会迭代<code>/etc/profile.d</code>目录下所有文件,这个文件包含了系统环境变量,<code>$HOME/.bash_profile</code>,<code>$HOME/.bash_login</code>,<code>$HOME/.profile</code>,shell按照顺序查找环境变量</li>
<li>交互式shell<br>  如果你的bash shell不是登录系统时启动的（比如是在命令行提示符下敲入 bash 时启动），那么你启动的shell叫作交互式shell，不执行<code>/etc/profile</code>,只会检查用户HOME目录中的<code>.bashrc</code>文件</li>
<li>非交互式shell(系统用)<br>  系统执行shell脚本时用的就是这种shell,举例来说，如果父shell是登录shell，在<code>/etc/profile</code>、<code>/etc/profile.d/*.sh</code>和<code>$HOME/.bashrc</code>文件中设置并导出了变量，用于执行脚本的子shell就能够继承这些变量。要记住，由父shell设置但并未导出的变量都是局部变量。子shell无法继承局部变量</li>
<li>环境变量的持久化<br>  对全局环境变量来说（Linux系统中所有用户都需要使用的变量），可能更倾向于将新的或修改过的变量设置放在<code>/etc/profile</code>文件中，但这可不是什么好主意。如果你升级了所用的发行版，这个文件也会跟着更新，那你所有定制过的变量设置可就都没有了。最好是在<code>/etc/profile.d</code>目录中创建一个以.sh结尾的文件。把所有新的或修改过的全局环境变量设置放在这个文件中。在大多数发行版中，存储个人用户永久性bash shell变量的地方是<code>$HOME/.bashrc</code>文件。这一点适用于所有类型的shell进程。但如果设置了<code>BASH_ENV</code>变量，那么记住，除非它指向的是$HOME&#x2F;.bashrc，否则你应该将非交互式shell的用户变量放在别的地方</li>
</ul>
</li>
</ul>
</li>
<li><p>环境变量数组<br>  <code>mytest=(one two three four five)</code>定义了环境变量数组,<code>echo $&#123;mytest[2]&#125;</code>使用下标索引可以访问具体值,<code>echo $&#123;mytest[*]&#125;</code>可以访问所有的值,<code>unset mytest[2]</code>删除某个值,<code>unset mytest</code>删除全部</p>
</li>
<li><p>总结<br>  bash shell会在启动时执行几个启动文件。这些启动文件包含了环境变量的定义，可用于为每个bash会话设置标准环境变量。每次登录Linux系统，bash shell都会访问&#x2F;etc&#x2F;profile启动文件以及3个针对每个用户的本地启动文件：$HOME&#x2F;.bash_profile、$HOME&#x2F;.bash_login和$HOME&#x2F;.profile。用户可以在这些文件中定制自己想要的环境变量和启动脚本。</p>
</li>
</ul>
<h1 id="7-linux文件权限"><a href="#7-linux文件权限" class="headerlink" title="7. linux文件权限"></a>7. linux文件权限</h1><h2 id="7-1-linux的安全性"><a href="#7-1-linux的安全性" class="headerlink" title="7.1 linux的安全性"></a>7.1 linux的安全性</h2><ul>
<li><code>/etc/passwd</code>包含用户的基本信息,所有在服务器后台运行都需要个<code>系统账户</code>运行<ol>
<li>登录用户名</li>
<li>用户密码</li>
<li>用户账户的UID（数字形式）</li>
<li>用户账户的组ID（GID）（数字形式）</li>
<li>用户账户的文本描述（称为备注字段）</li>
<li>用户HOME目录的位置</li>
<li>用户的默认shell</li>
</ol>
</li>
<li><code>/etc/shadow</code>文件,只允许root用户访问<ol>
<li>与&#x2F;etc&#x2F;passwd文件中的登录名字段对应的登录名</li>
<li>加密后的密码</li>
<li>自上次修改密码后过去的天数密码（自1970年1月1日开始计算）</li>
<li>多少天后才能更改密码</li>
<li>多少天后必须更改密码</li>
<li>密码过期前提前多少天提醒用户更改密码</li>
<li>密码过期后多少天禁用用户账户</li>
<li>用户账户被禁用的日期（用自1970年1月1日到当天的天数表示）</li>
<li>预留字段给将来使用</li>
</ol>
</li>
</ul>
<h3 id="7-1-1-添加linux用户"><a href="#7-1-1-添加linux用户" class="headerlink" title="7.1.1 添加linux用户"></a>7.1.1 添加linux用户</h3><ul>
<li><code>sueradd</code>命令添加默认配置的用户,<code>/etc/default/useradd</code>可以加入<code>-D</code>选项查看默认参数(一些Linux发行版会把Linux用户和组工具放在&#x2F;usr&#x2F;sbin目录下，这个目录可能不在<code>PATH</code>环境变量里)<ol>
<li>新用户会被添加到GID为 100 的公共组；</li>
<li>新用户的HOME目录将会位于&#x2F;home&#x2F;loginname；</li>
<li>新用户账户密码在过期后不会被禁用；</li>
<li>新用户账户未被设置过期日期；</li>
<li>新用户账户将bash shell作为默认shell；</li>
<li>系统会将&#x2F;etc&#x2F;skel目录下的内容复制到用户的HOME目录下；</li>
<li>系统为该用户账户在mail目录下创建一个用于接收邮件的文件<br><code>/etc/skel</code>下面它们是bash shell环境的标准启动文件,<code>useradd</code>参数可以控制这些默认值</li>
</ol>
</li>
</ul>
<h3 id="7-1-2-删除用户"><a href="#7-1-2-删除用户" class="headerlink" title="7.1.2 删除用户"></a>7.1.2 删除用户</h3><p>to_be_continue</p>
<h3 id="7-1-2-修改用户"><a href="#7-1-2-修改用户" class="headerlink" title="7.1.2 修改用户"></a>7.1.2 修改用户</h3><p>to_be_continue</p>
<h2 id="7-2-使用linux组"><a href="#7-2-使用linux组" class="headerlink" title="7.2 使用linux组"></a>7.2 使用linux组</h2><ul>
<li>&#x2F;etc&#x2F;group 存储一个组的信息，低于500是系统的，高于500是用户组的<ul>
<li>组名</li>
<li>组密码</li>
<li>GID</li>
<li>属于该组的用户列表</li>
</ul>
</li>
<li>创建组</li>
<li>修改组</li>
</ul>
<h2 id="7-3-理解文件权限"><a href="#7-3-理解文件权限" class="headerlink" title="7.3 理解文件权限"></a>7.3 理解文件权限</h2><ul>
<li>理解文件权限符号<ul>
<li><code>-</code>代表文件</li>
<li><code>d</code> 代表目录</li>
<li><code>l</code> 代表链接</li>
<li><code>c</code> 代表字符型设备</li>
<li><code>b</code> 代表块设备</li>
<li><code>n</code> 代表网络设备</li>
<li><code>r</code> 可写</li>
<li><code>w</code> 可写</li>
<li><code>x</code> 可执行</li>
<li>文件owner,和对象组</li>
</ul>
</li>
<li>设置默认文件权限<br>设置<code>umask</code>的值,默认文件权限等于文件最大权限，减去<code>umask</code>值，第一位代表了一项特别的安全特性，叫作粘着位（sticky bit）<br>rwx &#x3D; 4 + 2 + 1 &#x3D; 7, rw &#x3D; 4 + 2 &#x3D; 6, rx &#x3D; 4 +1 &#x3D; 5.</li>
</ul>
<h2 id="7-4-改变安全性设置"><a href="#7-4-改变安全性设置" class="headerlink" title="7.4 改变安全性设置"></a>7.4 改变安全性设置</h2><ul>
<li>chmod 改文件权限，如果使用的符号模式设置就是<code>u</code>代表用户，<code>g</code>代表组，<code>o</code>代表其他，<code>a</code>代表所有，<code>+</code>代表增加权限，<code>-</code>代表移除权限，<code>=</code>将权限设置成后面的值，额外的第三作用符号如下<ul>
<li><code>X</code> ：如果对象是目录或者它已有执行权限，赋予执行权限。</li>
<li><code>s</code> ：运行时重新设置UID或GID。</li>
<li><code>t</code> ：保留文件或目录。</li>
<li><code>u</code> ：将权限设置为跟属主一样。</li>
<li><code>g</code> ：将权限设置为跟属组一样。</li>
<li><code>o</code> ：将权限设置为跟其他用户一样</li>
</ul>
</li>
<li>chown 改文件所属<br><code>chown option owner file[.group] file</code><br><code>chown owner.group file</code>直接改属主和组<br><code>chown owner .</code> 属主和组都同名<br><code>chgrp</code> 更改文件目录的默认属组</li>
</ul>
<h2 id="7-5-共享文件"><a href="#7-5-共享文件" class="headerlink" title="7.5 共享文件"></a>7.5 共享文件</h2><p>Linux还为每个文件和目录存储了3个额外的信息位。</p>
<ul>
<li>设置用户ID（SUID）：当文件被用户使用时，程序会以文件属主的权限运行。</li>
<li>设置组ID（SGID）：对文件来说，程序会以文件属组的权限运行；对目录来说，目录中创建的新文件会以目录的默认属组作为默认属组。</li>
<li>粘着位：进程结束后文件还驻留（粘着）在内存中。<br>如果你用的是八进制模式，你需要知道这些位的位置</li>
</ul>
<table>
<thead>
<tr>
<th>二进制值</th>
<th>八进制值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>000</td>
<td>0</td>
<td>所有位都清零</td>
</tr>
<tr>
<td>001</td>
<td>1</td>
<td>粘着位置位</td>
</tr>
<tr>
<td>010</td>
<td>2</td>
<td>SGID位置位</td>
</tr>
<tr>
<td>011</td>
<td>3</td>
<td>SGID位和粘着位都置位</td>
</tr>
<tr>
<td>100</td>
<td>4</td>
<td>SUID位置位</td>
</tr>
<tr>
<td>101</td>
<td>5</td>
<td>SUID位和粘着位都置位</td>
</tr>
<tr>
<td>110</td>
<td>6</td>
<td>SUID位和SGID位都置位</td>
</tr>
<tr>
<td>111</td>
<td>7</td>
<td>所有位都置位</td>
</tr>
</tbody></table>
<p>首先，用 <code>mkdir</code> 命令来创建希望共享的目录。然后通过 <code>chgrp</code> 命令将目录的默认属组改为包<br>含所有需要共享文件的用户的组（你必须是该组的成员）。最后，将目录的SGID位置位，以保证<br>目录中新建文件都用shared作为默认属组  </p>
<pre class="language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">mkdir</span> testdir
$ <span class="token function">ls</span> -l
drwxrwxr-x <span class="token number">2</span> rich rich <span class="token number">4096</span> Sep <span class="token number">20</span> <span class="token number">23</span>:12 testdir/
$ <span class="token function">chgrp</span> shared testdir
$ <span class="token function">chmod</span> g+s testdir  // <span class="token function">chmod</span> <span class="token number">6770</span> testdir
$ <span class="token function">ls</span> -l
drwxrwsr-x <span class="token number">2</span> rich shared <span class="token number">4096</span> Sep <span class="token number">20</span> <span class="token number">23</span>:12 testdir/
$ <span class="token builtin class-name">umask</span> 002
$ <span class="token builtin class-name">cd</span> testdir
$ <span class="token function">touch</span> testfile
$ <span class="token function">ls</span> -l
total <span class="token number">0</span>
-rw-rw-r-- <span class="token number">1</span> rich shared <span class="token number">0</span> Sep <span class="token number">20</span> <span class="token number">23</span>:13 testfile
</code></pre>

<h1 id="9-安装软件程序"><a href="#9-安装软件程序" class="headerlink" title="9. 安装软件程序"></a>9. 安装软件程序</h1><h2 id="9-1-包管理工具"><a href="#9-1-包管理工具" class="headerlink" title="9.1 包管理工具"></a>9.1 包管理工具</h2><p>管理版本</p>
<h2 id="9-2-基于Debian的系统"><a href="#9-2-基于Debian的系统" class="headerlink" title="9.2 基于Debian的系统"></a>9.2 基于Debian的系统</h2><p>基于 Debian 的系统</p>
<ul>
<li>dpkg 包管理工具</li>
<li>apt</li>
<li>apt-get</li>
<li>aptitude</li>
</ul>
<h3 id="9-2-1-用aptitude-管理软件包"><a href="#9-2-1-用aptitude-管理软件包" class="headerlink" title="9.2.1 用aptitude 管理软件包"></a>9.2.1 用aptitude 管理软件包</h3><p><code>apt</code>,<code>dpkg</code>是包管理工具，<code>aptitude</code>是完整的软件包管理系统</p>
<ol>
<li>aptitude show wine  显示包wine的详细信息</li>
<li>aptitude install package_name</li>
<li>aptitude search package_name<br> 如果看到一个 <code>i</code> ，说明这个包现在已经安装到了你的系统上了。如果看到一个 <code>p</code> 或 <code>v</code> ，说明这个包可用，但还没安装</li>
<li>aptitude safe-upgrade</li>
<li>aptitude remove&#x2F;purge package_name</li>
<li><code>/etc/apt/sources.list</code>前面有deb说明是编译过的，deb-src是源代码，package_type_list 条目可能并不止一个词，它还表明仓库里面有什么类型的包。你可以看到诸如main、restricted、universe和partner这样的值</li>
</ol>
<p>dpkg -L vim  显示vim的所有安装信息<br>dpkg –search vim</p>
<h2 id="9-3-基于源码安装"><a href="#9-3-基于源码安装" class="headerlink" title="9.3 基于源码安装"></a>9.3 基于源码安装</h2><p>C++编译要使用CMake</p>
<h1 id="10-使用编辑器"><a href="#10-使用编辑器" class="headerlink" title="10. 使用编辑器"></a>10. 使用编辑器</h1><h2 id="10-1-vim-编辑器"><a href="#10-1-vim-编辑器" class="headerlink" title="10.1 vim 编辑器"></a>10.1 vim 编辑器</h2><ol>
<li>移动光标</li>
</ol>
<ul>
<li>文件很大,用方向键移动</li>
<li>gg 移动到最后一行</li>
<li>num G 移动到指定行数</li>
<li>G 移动到第一行</li>
<li>w file_name 将文件保存到另一个文件中</li>
<li>Pagedown + Pageup 翻页</li>
<li>w file_name 保存为另一个文件</li>
</ul>
<ol start="2">
<li>编辑数据</li>
</ol>
<ul>
<li>x 删除光标当前所在字符(剪切)</li>
<li>dd 是切除当前行, p 是粘贴(剪切)</li>
<li>dw 删除光标当前所在当前字符(剪切)</li>
<li>yw 复制一个单词  y$复制整个行 </li>
<li>u 撤销</li>
<li>a 在文件尾追加数据</li>
<li>A 在当前行尾追加数据</li>
<li>r char 用char 替换当前光标位置字符</li>
<li>R char 用text文本替换当前文本字符</li>
</ul>
<ol start="3">
<li>替换数据</li>
</ol>
<ul>
<li>:s&#x2F;old&#x2F;new&#x2F;  替换数据</li>
<li>:s&#x2F;olr&#x2F;new&#x2F;g  替换文件中一行所有old</li>
<li>:m,ns&#x2F;old&#x2F;new&#x2F;g 替换行号之间的所有old</li>
<li>:$s&#x2F;old&#x2F;new&#x2F;g 替换整个文件中的old</li>
<li>:$s&#x2F;old&#x2F;new&#x2F;gc 替换整个文件中的old，但是每次都提醒</li>
</ul>
<h1 id="11-基本脚本"><a href="#11-基本脚本" class="headerlink" title="11.基本脚本"></a>11.基本脚本</h1><ul>
<li><p>创建shell脚本<br><code>#!/bin/bash</code>,bash找你的文件都是从path目录下，如果没有设置path目录那么就需要通过绝对路径和相对路径引用你的命令。然后是注意你的文件权限<code>umask</code>决定了你文件创建时候的默认权限</p>
</li>
<li><p>文本信息<br>echo可使用单引号和双引号来划定文本字符串</p>
<ol>
<li><code>echo  &quot;This is a test to see if you&#39;re paying attention&quot;</code>  文本中有单引号</li>
<li><code>echo  &#39;Rich says &quot;scripting is easy&quot;.&#39;</code> 文本中有双引号</li>
<li>如果是单&#x2F;双引号混合会怎样？</li>
<li>文本字符串和命令输出到同一行</li>
</ol>
</li>
<li><p>使用变量</p>
<ol>
<li>用户变量区分大小写长度不超过20个字符</li>
<li>变量,等号,值之间不能出现空格</li>
<li>引用一个变量值时需要使用美元符，而引用变量来对其进行赋值时则不要使用美元符.没有美元符号引用变量进行赋值shell就会将其理解为字符串</li>
<li>命令替换分为<code>$()</code>和` `,testing&#x3D;$(date)他们中间没有空格.命令替换会创建一个子shell来运行对应的命令。子shell（subshell）是由运行该脚本的shell所创建出来的一个独立的子shell（child shell）。正因如此，由该子shell所执行命令是无法使用脚本中所创建的变量的.在命令行提示符下使用路径.&#x2F;运行命令的话，也会创建出子shell；要是运行命令的时候不加入路径，就不会创建子shell。如果你使用的是内建的shell命令，并不会涉及子shell。在命令行提示符下运行脚本时一定要留心！</li>
<li></li>
</ol>
</li>
<li><p>输入输出重定向</p>
<ul>
<li><code>&gt;</code>会覆盖,<code>&gt;&gt;</code>追加 </li>
<li><code>wc &lt; test6</code> 输入重定向,内联重定向<code>&lt;&lt;</code>,在命令行上使用内联输入重定向时,shell会用PS2环境变量中定义的次提示符（参见第6章）</li>
<li>管道，Linux管道命令（断条符号）允许你将命令的输出直接重定向到另一个命令的输入。【这里的问题还很多】</li>
</ul>
</li>
<li><p>执行数学计算</p>
<ol>
<li><code>expr</code>命令,特别注意<code>expr 1+5</code>这种是不起作用的(建议以后少用)</li>
<li><code>$[ ]</code>对<code>expr</code>的改进,bash shell数学运算符只支持整数运算,<code>zsh</code>支持浮点运算</li>
<li><code>bc</code>计算器<ul>
<li><code>scale=4</code> 保留四位精度，<code>3.44 / 5 = .6880</code>, 支持定义变量</li>
<li>在脚本中使用<code>bc</code>,<code>variable=$(echo &quot;scale=4 ;3.44 / 5&quot; | bc)</code>,<code>var3=$(echo &quot;scale=4; $var1 / $var2&quot; | bc)</code>这里的var1和var2都是预定义的</li>
<li>将表达式定义到一个文件中，或者内联表达式 <pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash </span>
<span class="token assign-left variable">var1</span><span class="token operator">=</span><span class="token number">10.46</span> 
<span class="token assign-left variable">var2</span><span class="token operator">=</span><span class="token number">43.67</span> 
<span class="token assign-left variable">var3</span><span class="token operator">=</span><span class="token number">33.2</span> 
<span class="token assign-left variable">var4</span><span class="token operator">=</span><span class="token number">71</span> 
<span class="token assign-left variable">var5</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">bc</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF 
scale = 4 
a1 = ( <span class="token variable">$var1</span> * <span class="token variable">$var2</span>) 
b1 = (<span class="token variable">$var3</span> * <span class="token variable">$var4</span>) 
a1 + b1 
EOF</span> 
<span class="token variable">)</span></span>

<span class="token builtin class-name">echo</span> The final answer <span class="token keyword">for</span> this mess is <span class="token variable">$var5</span></code></pre></li>
</ul>
</li>
</ol>
</li>
<li><p>退出脚本</p>
<ol>
<li><code>0</code>成功结束，<code>1</code>一般未知错误，<code>2</code>不适合的shell命令，<code>126</code>命令不可执行,<code>127</code>没找到命令，<code>128</code>无效退出参数，<code>128+x</code>与linux信号x相关的严重错误，<code>130</code>通过ctrl+退出，<code>255</code>正常范围之外的退出状态码</li>
<li><code>exit</code>退出命令，可以自定义状态码，退出状态码最大只能是255，所以超过255会进行模运算</li>
</ol>
</li>
</ul>
<h1 id="12-使用结构化命令"><a href="#12-使用结构化命令" class="headerlink" title="12. 使用结构化命令"></a>12. 使用结构化命令</h1><ul>
<li><p>if statement</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment">## style 1</span>
<span class="token keyword">if</span> <span class="token builtin class-name">pwd</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"it works"</span>
<span class="token keyword">fi</span>
<span class="token comment">## style 2</span>
<span class="token keyword">if</span> <span class="token builtin class-name">pwd</span> <span class="token punctuation">;</span> <span class="token keyword">then</span> 
  <span class="token builtin class-name">echo</span> <span class="token string">"it works"</span>
<span class="token keyword">fi</span>

<span class="token comment"># style 3 </span>
<span class="token comment">## 如果grep返回0 就去执行echo statement</span>
<span class="token keyword">if</span> <span class="token function">grep</span> <span class="token variable">$testuser</span> /etc/passwd
<span class="token keyword">then</span> 
  <span class="token builtin class-name">echo</span> <span class="token string">"this is my first command"</span>
  <span class="token builtin class-name">echo</span> <span class="token string">"this is my second command"</span>
<span class="token keyword">fi</span>
<span class="token comment">## if elif else  ,在elif语句中，紧跟其后的else语句属于elif代码块。它们并不属于之前的if-then代码块 </span>
<span class="token keyword">if</span> <span class="token builtin class-name">pwd</span> 
<span class="token keyword">then</span> 
  <span class="token builtin class-name">echo</span> <span class="token number">1</span>
<span class="token keyword">else</span> <span class="token operator">|</span> <span class="token keyword">elif</span> <span class="token builtin class-name">command</span>  <span class="token punctuation">;</span><span class="token keyword">then</span>  <span class="token builtin class-name">echo</span> <span class="token number">3</span> <span class="token punctuation">;</span> <span class="token keyword">else</span>  <span class="token keyword">fi</span>
  <span class="token builtin class-name">echo</span> <span class="token number">2</span>
<span class="token keyword">fi</span>
</code></pre>
</li>
<li><p>test命令</p>
<p>如果test命令中列出的条件成立，test命令就会退出并返回退出状态码0。这样if-then语句就与其他编程语言中的if-then语句以类似的方式工作了。如果条件不成立，test命令就会退出并返回非零的退出状态码，这使得if-then语句不会再被执行。支持符合条件检查</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment">## 单一逻辑校验</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> condition <span class="token punctuation">]</span> 
<span class="token keyword">then</span> 
  commands
<span class="token keyword">fi</span>
<span class="token comment">## 符合逻辑校验</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> condition1 <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span> condition2 <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> condition <span class="token punctuation">]</span> 
<span class="token keyword">then</span> 
  commands
<span class="token keyword">fi</span></code></pre>
<ul>
<li><p>数值比较</p>
<ul>
<li>n1 -eq n2   等于</li>
<li>n1 -ge n2   大于等于</li>
<li>n1 -gt n2   大于</li>
<li>n1 -le n2   小于等于</li>
<li>n1 -lt n2   小于</li>
</ul>
</li>
<li><p>字符串比较</p>
<ul>
<li>str1 &#x3D; str2 字面量相等，在比较字符串的相等性时，比较测试会将所有的标点和大小写情况都考虑在内</li>
<li>str1 !&#x3D; str2 不相等</li>
<li>str1 &lt; str2   小于. <code>if [ $val1 &gt; $val2 ]</code>直接这样比较字符串会创建一个文件。所以必须要转义<code>if [ $val1 \&gt; $val2 ]</code>。在比较测试中，大写字母被认为是小于小写字母的。比较测试中使用的是标准的ASCII顺序，根据每个字符的ASCII数值来决定排序结果但sort命令恰好相反，本地语言设置（英语），A在a前面</li>
<li>str1 &gt; str2   大于</li>
<li>-n str1  判断长度是否为非零</li>
<li>-z str1  判断长度是否为零</li>
</ul>
</li>
<li><p>文件比较</p>
<table>
<thead>
<tr>
<th>比较</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>-d file</td>
<td>d&#x3D;directory. 检查file是否存在并是一个目录</td>
</tr>
<tr>
<td>-e file</td>
<td>e&#x3D;exist. 检查file是否存在</td>
</tr>
<tr>
<td>-f file</td>
<td>f&#x3D;file. 检查file是否存在并是一个文件</td>
</tr>
<tr>
<td>-r file</td>
<td>r&#x3D;read. 检查file是否存在并可读</td>
</tr>
<tr>
<td>-s file</td>
<td>s&#x3D;检查file 是否存在并非空</td>
</tr>
<tr>
<td>-w file</td>
<td>w&#x3D;write. 检查file是否存在并可写</td>
</tr>
<tr>
<td>-x file</td>
<td>检查file 是否存在并可执行</td>
</tr>
<tr>
<td>-O file</td>
<td>O&#x3D;all user 检查file是否存在并属当前用户所有</td>
</tr>
<tr>
<td>-G file</td>
<td>G&#x3D;group 检查file是否存在并且默认组与当前用户相同</td>
</tr>
<tr>
<td>file1 -nt file2</td>
<td>检查file1是否比file2新</td>
</tr>
<tr>
<td>file1 -ot file2</td>
<td>检查file1是否比file2旧</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
<li><p>(( ))和[[ ]]提供高级特性</p>
<ul>
<li>(( )) 提供更加方便的数学表达式计算，像其他oop语言一样</li>
<li>[[ ]] 提供更加方便的字符串处理功能</li>
</ul>
</li>
<li><p><code>case</code>命令</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">case</span> variable <span class="token keyword">in</span> 
pattern1 <span class="token operator">|</span> pattern2 <span class="token punctuation">)</span> command1<span class="token punctuation">;</span><span class="token punctuation">;</span>
pattern3<span class="token punctuation">)</span> command2<span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span> command3<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></li>
</ul>
<h1 id="13-for-循环"><a href="#13-for-循环" class="headerlink" title="13. for 循环"></a>13. for 循环</h1><h2 id="13-1-for命令"><a href="#13-1-for命令" class="headerlink" title="13.1 for命令"></a>13.1 for命令</h2><ul>
<li>for 基本语句<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">list</span><span class="token operator">=</span><span class="token string">"Alabama Alaska Arizona Arkansas Colorado"</span> 
<span class="token assign-left variable">list</span><span class="token operator">=</span><span class="token variable">$list</span><span class="token string">" Connecticut"</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">v</span> <span class="token keyword">in</span> v_list
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token number">1</span>

<span class="token keyword">done</span>
</code></pre></li>
</ul>
<p>v_list如果有单引号，1.用转义字符转义。2.用双引号定义用到的单引号的值。3.如果在单独的数据值中有空格，就必须用双引号将这些值圈起来，可直接拼接值。</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token string">"path of your file"</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">state</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> $file<span class="token variable">)</span></span> 
<span class="token keyword">do</span> 
 <span class="token builtin class-name">echo</span> <span class="token string">"Visit beautiful <span class="token variable">$state</span>"</span> 
<span class="token keyword">done</span>
</code></pre>

<p>读取文件内容进行迭代<br>(ubuntu没有IFS环境变量)</p>
<ul>
<li><p>更改字段分隔符<br>默认分隔符是<code>空格</code>，<code>制表符</code>，<code>换行符</code>环境变量IFS,控制着字段分隔符，有时候想灵活一点,有些地方用的换行符，但是其他地方继续保留原先的分隔符，可使用IFS&#x3D;$’\n’, IFS.OLD&#x3D;$IFS,IFS&#x3D;$’\n’,但是如果想加入冒号作为换行符可以更改<code>/etc/passwd</code>文件加上IFS&#x3D;:,如果想加多个可以依次在后面加IFS&#x3D;’\n’:;”</p>
</li>
<li><p>通配符</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#!bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> /home/rich/test/* 
<span class="token keyword">do</span> 
  <span class="token keyword">if</span> <span class="token punctuation">[</span> -d <span class="token string">"<span class="token variable">$file</span>"</span> <span class="token punctuation">]</span> 
  <span class="token keyword">then</span> 
    <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$file</span> is a directory"</span> 
  <span class="token keyword">elif</span> <span class="token punctuation">[</span> -f <span class="token string">"<span class="token variable">$file</span>"</span> <span class="token punctuation">]</span> 
  <span class="token keyword">then</span> 
    <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$file</span> is a file"</span> 
  <span class="token keyword">fi</span> 
<span class="token keyword">done</span>
<span class="token comment">## 目录文件都会匹配</span>
<span class="token comment">##请注意这次条件判断有些特别使用了if [ -d "$file" ] 因为在linux中文件名有空格是合法的</span>
</code></pre></li>
</ul>
<h2 id="13-2-C语言风格"><a href="#13-2-C语言风格" class="headerlink" title="13.2 C语言风格"></a>13.2 C语言风格</h2><pre class="language-bash" data-language="bash"><code class="language-bash">
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>a<span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">;</span>a<span class="token operator">++</span><span class="token punctuation">,</span>b<span class="token operator">--</span><span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span> <span class="token number">1</span>
<span class="token keyword">done</span>
</code></pre>

<h2 id="13-3-while语句"><a href="#13-3-while语句" class="headerlink" title="13.3 while语句"></a>13.3 while语句</h2><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">while</span> <span class="token boolean">true</span>
<span class="token keyword">do</span>
  <span class="token builtin class-name">echo</span>

<span class="token keyword">done</span>
</code></pre>

<p><code>break</code> 还可以指定跳出循环层数,两层<code>for</code>就跳出最内层,<code>break n</code>就会跳出.<br><code>continue</code>结束本次循环，n为1，表明跳出的是当前的循环。如果你将n设为2，break命令就会停止下一级的外部循环  </p>
<ul>
<li>处理循环中的输出<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> /home/rich/* 
<span class="token keyword">do</span> 
<span class="token keyword">if</span> <span class="token punctuation">[</span> -d <span class="token string">"<span class="token variable">$file</span>"</span> <span class="token punctuation">]</span> 
<span class="token keyword">then</span> 
  <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$file</span> is a directory"</span> 
<span class="token keyword">elif</span> 
  <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$file</span> is a file"</span>  
<span class="token keyword">fi</span> 
<span class="token keyword">done</span> <span class="token operator">></span> output.txt</code></pre></li>
</ul>
<h1 id="14-处理用户输入"><a href="#14-处理用户输入" class="headerlink" title="14. 处理用户输入"></a>14. 处理用户输入</h1><ul>
<li>.&#x2F;sumAB.sh  a  b  ## 这里$0是程序名, <code>$1</code>是a, <code>$2</code>是b. 超过九个就一定要花括号引用变量比如<code>$&#123;10&#125;</code>，<code>$#</code>个数， <code>$&#123;!#&#125;</code>获取最后一个参数，如果没有参数就会输出脚本名，<code>$*</code>变量会将所有参数当成单个参数,<code>$@</code>变量可以用来轻松访问所有的参数.</li>
<li>如果程序名是<code>./test.sh</code>,那么echo $0 就是<code>./test.sh</code></li>
<li>如果程序名是<code>bash  /usr/lib/test.sh</code>,那么echo $0 就是<code>/usr/lib/test.sh</code></li>
<li><code>name=$(basename $0)</code> 可以只返回脚本名</li>
<li><code>if [ -n &quot;$1&quot; ]</code>是指<code>$1</code>不为空</li>
<li><code>shift</code>命令会移动命令参数,<code>shift n</code>可以指定跳过<code>n</code>参数.</li>
</ul>
<h1 id="19-初识sed和gawk"><a href="#19-初识sed和gawk" class="headerlink" title="19.初识sed和gawk"></a>19.初识sed和gawk</h1><h2 id="19-1-sed-and-gawk基础"><a href="#19-1-sed-and-gawk基础" class="headerlink" title="19.1 sed and gawk基础"></a>19.1 sed and gawk基础</h2><p><strong>sed</strong></p>
<ul>
<li>一次输入一行</li>
<li>按照命令修改流中数据</li>
<li>将最后结果输出到STDOUT</li>
</ul>
<blockquote>
<p>sed  options  script  file</p>
</blockquote>
<p>echo ‘this is a test’ | sed  ‘s&#x2F;test&#x2F;big test&#x2F;‘  使用s命令将test替换为big test</p>
<p>sed ‘s&#x2F;dog&#x2F;cat&#x2F;‘  data.txt    这是修改文件中dog为cart<br>sed  -e  ‘s&#x2F;brown&#x2F;red;  s&#x2F;blue&#x2F;yellow&#x2F;‘   data&#x2F;txt</p>
<p>从文件中读取编辑器命令</p>
<p>sed   -f   script.sed  data.txt</p>
<p><strong>gawk</strong></p>
<p>option</p>
<p>-F fs  指定行中划分数据字段的字段分隔符<br>-f file  从指定的文件中读取程序<br>-v var&#x3D;value  定义gawk程序中的一个变量及其默认值<br>-mf N  指定要处理的数据文件中的最大字段数<br>-mr N  指定数据文件中的最大数据行数<br>-W keyword  指定gawk的兼容模式或警告等级</p>
<ul>
<li><p>从命令行读取程序脚本<br>gawk ‘{print “Hello World!”}’</p>
</li>
<li><p>从文件中读取数据<br>自动为文件每一行数据分配一个变量gawk ‘{print $1}’ data2.txt 数据文件中每一行的第一个字符<br>eg: gawk -F: ‘{print $1}’ &#x2F;etc&#x2F;passwd</p>
</li>
<li><p>在程序脚本中使用多个命令</p>
<p>echo “my name is rich” | gawk ‘{$4&#x3D;”Christine”; print $0}’ , 给第四个字段名赋值，并输出文本名 ，如果不指定文件名就会从标准输入等待输入</p>
</li>
<li><p>从文件中读取程序</p>
<p>command_gawk.gawk        gawk -F: -f  command_gawk.gawk  &#x2F;etc&#x2F;passwd</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">BEGIN <span class="token punctuation">&#123;</span>
print <span class="token string">"The latest list of users and shells"</span>
print <span class="token string">" UserID <span class="token entity" title="\t">\t</span> Shell"</span>
print <span class="token string">"-------- <span class="token entity" title="\t">\t</span> -------"</span>
<span class="token assign-left variable">FS</span><span class="token operator">=</span><span class="token string">":"</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#123;</span>
print <span class="token variable">$NF</span> <span class="token string">" <span class="token entity" title="\t">\t</span> "</span> <span class="token variable">$7</span>
<span class="token punctuation">&#125;</span>
END <span class="token punctuation">&#123;</span>
print <span class="token string">"This concludes the listing"</span>
<span class="token punctuation">&#125;</span></code></pre>
</li>
<li><p>在处理数据前运行脚本</p>
<p>gawk ‘BEGIN {print “Hello World!”}’</p>
<p>&gt;{print $0}’ data3.txt</p>
</li>
<li><p>处理数据后运行脚本</p>
</li>
</ul>
<h2 id="19-2-sed-and-gawk进阶"><a href="#19-2-sed-and-gawk进阶" class="headerlink" title="19.2 sed and gawk进阶"></a>19.2 sed and gawk进阶</h2><p>替换标记<br>s&#x2F;pattern&#x2F;replacement&#x2F;flags</p>
<ul>
<li>数字， 说明新文本将替换第几处的地方</li>
<li>g，说明文本将替换所有</li>
<li>p, 原先行要打印</li>
<li>w file ， 将结果输出到新文件中</li>
<li>option 位置是 n 说明禁止输出</li>
</ul>
<p>替换字符<br>在替换文件路径时候涉及到转义字符这样很影响阅读性</p>
<p>替换指定行<br>sed ‘2s&#x2F;dog&#x2F;cat&#x2F;‘ data1.txt        这个命令的意思就是将data1.txt替换第二行中的dog，替换成cat<br>sed ‘2,3s&#x2F;dog&#x2F;cat&#x2F;‘ data1.txt    以此类推是第二行，第三行<br>sed ‘2,$s&#x2F;dog&#x2F;cat&#x2F;‘ data1.txt    从第二行开始到最后一行<br>sed ‘&#x2F;Samantha&#x2F;s&#x2F;bash&#x2F;csh&#x2F;‘ &#x2F;etc&#x2F;passwd   推过模式匹配<br>sed ‘3,${<br>  s&#x2F;brown&#x2F;green&#x2F;<br>  s&#x2F;lazy&#x2F;active&#x2F;<br>  }’ data1.txt</p>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源,欢迎对文章中的引用来源进行考证,欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论,也可以邮件至zxc741208584@gmail.com </span>
    </div>
</article>





    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: 'ca29b9a1203b5920918d',
            clientSecret: 'b1b2a10320acecd54ae9427f140164b2e63d13f5',
            repo: 'SimonTeo58.github.io',
            owner: 'SimonTeo58',
            admin: ['SimonTeo58'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    i hear i forget, i see i remember , i do i understand
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    #post .pjax article .article-entry>ol, #post .pjax article .article-entry>ul, #post .pjax article>ol, #post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    #post .pjax article .article-entry li>ol, #post .pjax article .article-entry li>ul,#post .pjax article li>ol, #post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    #post .pjax article .article-entry>ol>li, #post .pjax article .article-entry>ul>li,#post .pjax article>ol>li, #post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    #post .pjax article .article-entry li>ol>li, #post .pjax article .article-entry li>ul>li,#post .pjax article li>ol>li, #post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
